<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controllers.manageRecruitment"
            prefWidth="1200" prefHeight="700"
            style="-fx-background-color: #f5f7fb;">

    <!-- HEADER -->
    <top>
        <HBox spacing="12"
              style="-fx-background-color: linear-gradient(to right, #0B63CE, #0FA36B);">
            <padding>
                <Insets top="14" right="14" bottom="14" left="14"/>
            </padding>

            <VBox spacing="2">
                <Label text="INTEGRA â€“ Manage Recruitment" textFill="WHITE">
                    <font>
                        <Font size="18"/>
                    </font>
                </Label>
                <Label text="Administrator / RH Module" textFill="WHITE" style="-fx-opacity: 0.9;">
                    <font>
                        <Font size="11"/>
                    </font>
                </Label>
            </VBox>

            <Region HBox.hgrow="ALWAYS"/>

            <VBox alignment="CENTER_RIGHT" spacing="2">
                <Label text="Admin User" textFill="WHITE" style="-fx-font-weight: bold;"/>
                <Label text="ADMIN" textFill="WHITE" style="-fx-opacity: 0.9;"/>
            </VBox>

            <Button text="Logout" onAction="#onLogout"
                    style="-fx-background-color: rgba(255,255,255,0.2); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"/>
        </HBox>
    </top>

    <!-- CONTENT -->
    <center>
        <HBox spacing="14">
            <padding>
                <Insets top="14" right="14" bottom="14" left="14"/>
            </padding>

            <!-- JOB POSITIONS -->
            <VBox spacing="10" prefWidth="520"
                  style="-fx-background-color: white; -fx-background-radius: 12; -fx-border-radius: 12; -fx-border-color: #e6e9f0;">
                <VBox spacing="6"
                      style="-fx-background-color: #f3f6ff; -fx-background-radius: 12 12 0 0;">
                    <padding>
                        <Insets top="12" right="12" bottom="12" left="12"/>
                    </padding>

                    <Label text="Job Positions" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                    <Label text="Available positions in the company" style="-fx-text-fill: #6b7280; -fx-font-size: 11;"/>
                </VBox>

                <HBox spacing="10">
                    <padding>
                        <Insets top="0" right="12" bottom="0" left="12"/>
                    </padding>

                    <Button fx:id="btnAddJob" text="+ Add Job" onAction="#onAddJob"
                            style="-fx-background-color: #16a34a; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"/>
                    <Button fx:id="btnEditJob" text="Edit" onAction="#onEditJob"
                            style="-fx-background-color: #2563eb; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"/>
                    <Button fx:id="btnDeleteJob" text="Delete" onAction="#onDeleteJob"
                            style="-fx-background-color: #ef4444; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"/>
                </HBox>

                <TableView fx:id="jobTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colJobId" text="ID" prefWidth="60"/>
                        <TableColumn fx:id="colJobTitle" text="Title" prefWidth="160"/>
                        <TableColumn fx:id="colJobDept" text="Department" prefWidth="140"/>
                        <TableColumn fx:id="colJobType" text="Type" prefWidth="100"/>
                        <TableColumn fx:id="colJobStatus" text="Status" prefWidth="90"/>
                        <TableColumn fx:id="colJobPostedAt" text="Posted" prefWidth="90"/>
                    </columns>
                </TableView>

                <padding>
                    <Insets top="0" right="0" bottom="12" left="0"/>
                </padding>
            </VBox>

            <!-- CANDIDATES -->
            <VBox spacing="10" prefWidth="420"
                  style="-fx-background-color: white; -fx-background-radius: 12; -fx-border-radius: 12; -fx-border-color: #e6e9f0;">
                <VBox spacing="6"
                      style="-fx-background-color: #f3f6ff; -fx-background-radius: 12 12 0 0;">
                    <padding>
                        <Insets top="12" right="12" bottom="12" left="12"/>
                    </padding>

                    <Label text="Candidates" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                    <Label fx:id="lblForJob" text="For: (select a job)" style="-fx-text-fill: #6b7280; -fx-font-size: 11;"/>
                </VBox>

                <HBox spacing="10">
                    <padding>
                        <Insets top="0" right="12" bottom="0" left="12"/>
                    </padding>

                    <Button fx:id="btnAddCand" text="+ Add Candidate" onAction="#onAddCandidat"
                            style="-fx-background-color: #16a34a; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"/>
                    <Button fx:id="btnEditCand" text="Edit" onAction="#onEditCandidat"
                            style="-fx-background-color: #2563eb; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"/>
                    <Button fx:id="btnDeleteCand" text="Delete" onAction="#onDeleteCandidat"
                            style="-fx-background-color: #ef4444; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"/>
                </HBox>

                <TableView fx:id="candidatTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colCandId" text="ID" prefWidth="60"/>
                        <TableColumn fx:id="colCandFullName" text="Full Name" prefWidth="170"/>
                        <TableColumn fx:id="colCandEmail" text="Email" prefWidth="190"/>
                        <TableColumn fx:id="colCandEducation" text="Education" prefWidth="110"/>
                        <TableColumn fx:id="colCandStatus" text="Status" prefWidth="90"/>
                    </columns>
                </TableView>

                <padding>
                    <Insets top="0" right="0" bottom="12" left="0"/>
                </padding>
            </VBox>

            <!-- DETAILS -->
            <VBox spacing="12" prefWidth="320"
                  style="-fx-background-color: white; -fx-background-radius: 12; -fx-border-radius: 12; -fx-border-color: #e6e9f0;">
                <VBox spacing="6"
                      style="-fx-background-color: #f3f6ff; -fx-background-radius: 12 12 0 0;">
                    <padding>
                        <Insets top="12" right="12" bottom="12" left="12"/>
                    </padding>

                    <Label text="Candidate Details" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                    <Label text="Selected candidate information" style="-fx-text-fill: #6b7280; -fx-font-size: 11;"/>
                </VBox>

                <VBox spacing="8"
                      style="-fx-border-color: #eef2ff; -fx-border-radius: 12; -fx-background-radius: 12;">
                    <padding>
                        <Insets top="12" right="12" bottom="12" left="12"/>
                    </padding>

                    <Label text="Personal Information" style="-fx-font-weight: bold;"/>
                    <GridPane hgap="10" vgap="8">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="35"/>
                            <ColumnConstraints percentWidth="65"/>
                        </columnConstraints>

                        <Label text="Full Name" style="-fx-text-fill: #6b7280;" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <Label fx:id="dFullName" text="-" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="Email" style="-fx-text-fill: #6b7280;" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <Label fx:id="dEmail" text="-" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Phone" style="-fx-text-fill: #6b7280;" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <Label fx:id="dPhone" text="-" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="Education" style="-fx-text-fill: #6b7280;" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                        <Label fx:id="dEducation" text="-" GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                    </GridPane>
                </VBox>

                <VBox spacing="8"
                      style="-fx-border-color: #eef2ff; -fx-border-radius: 12; -fx-background-radius: 12;">
                    <padding>
                        <Insets top="12" right="12" bottom="12" left="12"/>
                    </padding>

                    <Label text="Skills" style="-fx-font-weight: bold;"/>
                    <TextArea fx:id="dSkills" editable="false" prefRowCount="4" wrapText="true"/>
                </VBox>

                <VBox spacing="10"
                      style="-fx-border-color: #eef2ff; -fx-border-radius: 12; -fx-background-radius: 12;">
                    <padding>
                        <Insets top="12" right="12" bottom="12" left="12"/>
                    </padding>

                    <Label text="Actions" style="-fx-font-weight: bold;"/>
                    <Button text="Update Status" onAction="#onUpdateStatus"
                            maxWidth="Infinity"
                            style="-fx-background-color: #2563eb; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"/>
                    <Button text="View CV" onAction="#onViewCv"
                            maxWidth="Infinity"
                            style="-fx-background-color: #7c3aed; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"/>
                    <Button text="Reject Candidate" onAction="#onReject"
                            maxWidth="Infinity"
                            style="-fx-background-color: #ef4444; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"/>
                </VBox>

                <padding>
                    <Insets top="0" right="12" bottom="12" left="12"/>
                </padding>
            </VBox>

        </HBox>
    </center>

</BorderPane>
